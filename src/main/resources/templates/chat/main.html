
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<th:block th:replace="fragment/config :: configFragment" ></th:block>
<!-- Head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1, shrink-to-fit=no, viewport-fit=cover">
    <title>Messenger - 2.0.1</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="./assets/img/favicon/favicon.ico" type="image/x-icon">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700" rel="stylesheet">

    <!-- Template CSS -->
    <link rel="stylesheet" href="/css/template.bundle.css">
    <link rel="stylesheet" href="/css/template.dark.bundle.css" media="(prefers-color-scheme: dark)">
</head>

<body>
<!-- Layout -->
<div class="layout overflow-hidden">
    <!-- Navigation -->
    <nav class="navigation d-flex flex-column text-center navbar navbar-light hide-scrollbar">
        <!-- Brand -->
        <a href="index.html" title="Messenger" class="d-none d-xl-block mb-6">
            <svg version="1.1" width="46px" height="46px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 46 46" enable-background="new 0 0 46 46" xml:space="preserve">
                        <polygon opacity="0.7" points="45,11 36,11 35.5,1 "/>
                <polygon points="35.5,1 25.4,14.1 39,21 "/>
                <polygon opacity="0.4" points="17,9.8 39,21 17,26 "/>
                <polygon opacity="0.7" points="2,12 17,26 17,9.8 "/>
                <polygon opacity="0.7" points="17,26 39,21 28,36 "/>
                <polygon points="28,36 4.5,44 17,26 "/>
                <polygon points="17,26 1,26 10.8,20.1 "/>
                    </svg>

        </a>

        <!-- Nav items -->
        <ul class="d-flex nav navbar-nav flex-row flex-xl-column flex-grow-1 justify-content-between justify-content-xl-center align-items-center w-100 py-4 py-lg-2 px-lg-3" role="tablist">
            <!-- Invisible item to center nav vertically -->
            <li class="nav-item d-none d-xl-block invisible flex-xl-grow-1">
                <a class="nav-link py-0 py-lg-8" href="#" title="">
                    <div class="icon icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                    </div>
                </a>
            </li>

            <!-- New chat -->
<!--            <li class="nav-item">-->
<!--                <a class="nav-link py-0 py-lg-8" id="tab-create-chat" href="#tab-content-create-chat" title="Create chat" data-bs-toggle="tab" role="tab">-->
<!--                    <div class="icon icon-xl">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>-->
<!--                    </div>-->
<!--                </a>-->
<!--            </li>-->

            <!-- Friends -->
            <li class="nav-item">
                <a class="nav-link py-0 py-lg-8" id="tab-friends" href="#tab-content-friends" title="Friends" data-bs-toggle="tab" role="tab">
                    <div class="icon icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    </div>
                </a>
            </li>

            <!-- Chats -->
            <li class="nav-item">
                <a class="nav-link active py-0 py-lg-8" id="tab-chats" href="#tab-content-chats" title="Chats" data-bs-toggle="tab" role="tab">
                    <div class="icon icon-xl icon-badged">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        <div class="badge badge-circle bg-primary">
                            <span>4</span>
                        </div>
                    </div>
                </a>
            </li>

            <!-- Notification -->
            <li class="nav-item">
                <a class="nav-link py-0 py-lg-8" id="tab-notifications" href="#tab-content-notifications" title="Notifications" data-bs-toggle="tab" role="tab">
                    <div class="icon icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                    </div>
                </a>
            </li>

            <!-- Support -->
            <li class="nav-item d-none d-xl-block flex-xl-grow-1">
                <a class="nav-link py-0 py-lg-8" id="tab-support" href="#tab-content-support" title="Support" data-bs-toggle="tab" role="tab">
                    <div class="icon icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layout"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                    </div>
                </a>
            </li>

            <!-- Settings -->
            <li class="nav-item d-none d-xl-block">
                <a class="nav-link py-0 py-lg-8" id="tab-settings" href="#tab-content-settings" title="Settings" data-bs-toggle="tab" role="tab">
                    <div class="icon icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                    </div>
                </a>
            </li>

            <!-- Profile -->
            <li class="nav-item">
                <a href="#" class="nav-link p-0 mt-lg-2" data-bs-toggle="modal" data-bs-target="#modal-profile">
                    <div class="avatar avatar-online mx-auto d-none d-xl-block">
                        <img th:if="${userInfo.profileIdx} != 0" class="avatar-img myProfileImg" th:src="@{/api/img/print/} + ${userInfo.profileIdx}" alt="">
                        <img th:if="${userInfo.profileIdx} == 0" class="avatar-img myProfileImg" src="/images/1.jpg" alt="">
                    </div>
                    <div class="avatar avatar-online avatar-xs d-xl-none">
                        <img th:if="${userInfo.profileIdx} != 0" class="avatar-img myProfileImg" th:src="@{/api/img/print/} + ${userInfo.profileIdx}" alt="">
                        <img th:if="${userInfo.profileIdx} == 0" class="avatar-img myProfileImg" src="/images/1.jpg" alt="">
                    </div>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Navigation -->

    <!-- Sidebar -->
    <aside class="sidebar bg-light">
        <div class="tab-content h-100" role="tablist">
            <!-- Create -->
            <div class="tab-pane fade h-100" id="tab-content-create-chat" role="tabpanel">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar">

                        <div class="container py-8">

                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">Create chat</h2>
                            </div>

                            <!-- Search -->
                            <div class="mb-6">
                                <div class="mb-5">
                                    <form action="#">
                                        <div class="input-group">
                                            <div class="input-group-text">
                                                <div class="icon icon-lg">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                                </div>
                                            </div>

                                            <input type="text" class="form-control form-control-lg ps-0" placeholder="친구 이름을 입력해주세요." aria-label="Search for messages or users...">
                                        </div>
                                    </form>
                                </div>

                                <ul class="nav nav-pills nav-justified" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" data-bs-toggle="pill" href="#create-chat-info" role="tab" aria-controls="create-chat-info" aria-selected="true">
                                            Details
                                        </a>
                                    </li>

                                    <li class="nav-item">
                                        <a class="nav-link" data-bs-toggle="pill" href="#create-chat-members" role="tab" aria-controls="create-chat-members" aria-selected="true">
                                            People
                                        </a>
                                    </li>
                                </ul>
                            </div>

                            <!-- Tabs content -->
                            <div class="tab-content" role="tablist">
                                <div class="tab-pane fade show active" id="create-chat-info" role="tabpanel">

                                    <div class="card border-0">
                                        <div class="profile">
                                            <div class="profile-img text-primary rounded-top">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 400 140.74"><defs><style>.cls-2{fill:#fff;opacity:0.1;}</style></defs><g><g><path d="M400,125A1278.49,1278.49,0,0,1,0,125V0H400Z"/><path class="cls-2" d="M361.13,128c.07.83.15,1.65.27,2.46h0Q380.73,128,400,125V87l-1,0a38,38,0,0,0-38,38c0,.86,0,1.71.09,2.55C361.11,127.72,361.12,127.88,361.13,128Z"/><path class="cls-2" d="M12.14,119.53c.07.79.15,1.57.26,2.34v0c.13.84.28,1.66.46,2.48l.07.3c.18.8.39,1.59.62,2.37h0q33.09,4.88,66.36,8,.58-1,1.09-2l.09-.18a36.35,36.35,0,0,0,1.81-4.24l.08-.24q.33-.94.6-1.9l.12-.41a36.26,36.26,0,0,0,.91-4.42c0-.19,0-.37.07-.56q.11-.86.18-1.73c0-.21,0-.42,0-.63,0-.75.08-1.51.08-2.28a36.5,36.5,0,0,0-73,0c0,.83,0,1.64.09,2.45C12.1,119.15,12.12,119.34,12.14,119.53Z"/><circle class="cls-2" cx="94.5" cy="57.5" r="22.5"/><path class="cls-2" d="M276,0a43,43,0,0,0,43,43A43,43,0,0,0,362,0Z"/></g></g></svg>
                                            </div>

                                            <div class="profile-body p-0">
                                                <div class="avatar avatar-lg">
                                                            <span class="avatar-text bg-primary">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                                                            </span>

                                                    <div class="badge badge-lg badge-circle bg-primary border-outline position-absolute bottom-0 end-0">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                                    </div>

                                                    <input id="upload-chat-img" class="d-none" type="file">
                                                    <label class="stretched-label mb-0" for="upload-chat-img"></label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="card-body">
                                            <form autocomplete="off">
                                                <div class="row gy-6">
                                                    <div class="col-12">
                                                        <div class="form-floating">
                                                            <input type="text" class="form-control" id="floatingInput" placeholder="Enter a chat name">
                                                            <label for="floatingInput">Enter group name</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-12">
                                                        <div class="form-floating">
                                                            <textarea class="form-control" placeholder="Description" id="floatingTextarea" rows="8" data-autosize="true" style="min-height: 100px;"></textarea>
                                                            <label for="floatingTextarea">What's your purpose?</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                    <div class="d-flex align-items-center mt-4 px-6">
                                        <small class="text-muted me-auto">Enter chat name and add an optional photo.</small>
                                    </div>

                                    <!-- Options -->
                                    <div class="mt-8">
                                        <div class="d-flex align-items-center mb-4 px-6">
                                            <small class="text-muted me-auto">Options</small>
                                        </div>

                                        <div class="card border-0">
                                            <div class="card-body">
                                                <div class="row gx-5">
                                                    <div class="col-auto">
                                                        <div class="btn btn-sm btn-icon btn-dark">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-lock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <h5>Make Private</h5>
                                                        <p>Can only be viewed by invites</p>
                                                    </div>
                                                    <div class="col-auto align-self-center">
                                                        <div class="form-check form-switch ps-0">
                                                            <input class="form-check-input" type="checkbox" id="new-chat-options-1">
                                                            <label class="form-check-label" for="new-chat-options-1"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Members -->
                                <div class="tab-pane fade" id="create-chat-members" role="tabpanel">
                                    <nav>

                                        <!-- Card -->
                                        <div class="card border-0 mt-5">
                                            <div class="card-body">

                                                <div class="row align-items-center gx-5">
                                                    <div class="col-auto">
                                                        <div class="avatar ">
                                                            <img class="avatar-img" src="/images/6.jpg" alt="">
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <h5>Bill Marrow</h5>
                                                        <p>last seen 3 days ago</p>
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" value="" id="id-member-1">
                                                            <label class="form-check-label" for="id-member-1"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <label class="stretched-label" for="id-member-1"></label>
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                            <!-- Tabs content -->
                        </div>

                    </div>

                    <!-- Button -->
                    <div class="container mt-n4 mb-8 position-relative">
                        <button class="btn btn-lg btn-primary w-100 d-flex align-items-center" type="button">
                            Start chat
                            <span class="icon ms-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                    </span>
                        </button>
                    </div>
                    <!-- Button -->
                </div>
            </div>

            <!-- Friends -->
            <div class="tab-pane fade h-100" id="tab-content-friends" role="tabpanel">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar">
                        <div class="container py-8">

                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">친구</h2>
                            </div>

                            <!-- Search -->
                            <div class="mb-6">
                                <form action="#">
                                    <div class="input-group">
                                        <div id="friendsSearch" class="input-group-text">
                                            <div class="icon icon-lg">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                            </div>
                                        </div>

                                        <input id="friendsSearchVal" type="text" class="form-control form-control-lg ps-0" placeholder="친구 이름을 입력해주세요." aria-label="친구 이름을 입력해주세요.">
                                    </div>
                                </form>

                                <!-- Invite button -->
                                <div class="mt-5">
                                    <a href="#" class="btn btn-lg btn-primary w-100 d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#modal-invite">
                                        친구 추가

                                        <span class="icon ms-auto">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
                                        </span>
                                    </a>
                                </div>
                            </div>

                            <!-- List -->
                            <div id="friendsDiv" class="card-list">

                                <!-- Card -->
                                <div th:each="friends : ${friends}" class="card border-0">
                                    <div class="card-body">

                                        <div class="row align-items-center gx-5">
                                            <div class="col-auto">
                                                <a href="#" class="avatar ">
                                                    <img th:if="${friends.friendsProfileIdx} == 0"  class="avatar-img" src="/images/6.jpg" alt="">
                                                    <img th:if="${friends.friendsProfileIdx} != 0" th:src="@{/api/img/print/} + ${friends.friendsProfileIdx}" class="avatar-img" src="/images/6.jpg" alt="">
                                                </a>
                                            </div>

                                            <div class="col">
                                                <h5 th:text="${friends.friendsName}"><a href="#">Bill Marrow</a></h5>
                                            </div>

                                            <div class="col-auto">
                                                <!-- Dropdown -->
                                                <div class="dropdown">
                                                    <a class="icon text-muted" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
                                                    </a>

                                                    <ul class="dropdown-menu">
                                                        <li><a class="dropdown-item" href="#">메시지 보내기</a></li>
                                                        </li>
                                                        <li>
                                                            <hr class="dropdown-divider">
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item text-danger blockUser" th:onclick="|javascript:blockUserClick(${friends.friendsIdx})|" href="#">친구 차단</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Chats -->
            <div class="tab-pane fade h-100 show active" id="tab-content-chats" role="tabpanel">
                <div class="d-flex flex-column h-100 position-relative">
                    <div class="hide-scrollbar">

                        <div class="container py-8">
                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">채팅</h2>
                            </div>

                            <!-- Search -->
                            <div class="mb-6">
                                <form action="#">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <div class="icon icon-lg">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                            </div>
                                        </div>

                                        <input type="text" class="form-control form-control-lg ps-0" placeholder="채팅방 이름을 입력하세요" aria-label="Search for messages or users...">
                                    </div>
                                </form>
                            </div>

                            <!-- Chats -->
                            <div class="card-list">

                                <!-- Card -->
                                <a href="/chat" class="card border-0 text-reset">
                                    <div class="card-body">
                                        <div class="row gx-5">
                                            <div class="col-auto">
                                                <div class="avatar avatar-online">
                                                    <img src="/images/6.jpg" alt="#" class="avatar-img">
                                                </div>
                                            </div>

                                            <div class="col">
                                                <div class="d-flex align-items-center mb-3">
                                                    <h5 class="me-auto mb-0">Ollie Chandler</h5>
                                                    <span class="text-muted extra-small ms-2">08:45 PM</span>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div class="line-clamp me-auto">
                                                        Hello! Yeah, I'm going to meet friend of mine at the departments stores now.
                                                    </div>

                                                    <div class="badge badge-circle bg-primary ms-5">
                                                        <span>3</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- .card-body -->
                                </a>
                                <!-- Card -->

                                <!-- Card -->
                                <a href="chat-direct.html" class="card border-0 text-reset">
                                    <div class="card-body">
                                        <div class="row gx-5">
                                            <div class="col-auto">
                                                <div class="avatar-group-trigon avatar-group-trigon-sm">
                                                    <div class="avatar avatar-sm">
                                                        <img class="avatar-img" src="/images/7.jpg" alt="#">
                                                    </div>

                                                    <div class="avatar avatar-sm">
                                                        <img class="avatar-img" src="/images/9.jpg" alt="#">
                                                    </div>

                                                    <div class="avatar avatar-sm">
                                                        <span class="avatar-text bg-primary">D</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col">
                                                <div class="d-flex align-items-center mb-3">
                                                    <h5 class="me-auto mb-0">Don Knight</h5>
                                                    <span class="text-muted extra-small ms-2">08:35 PM</span>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div class="line-clamp me-auto">
                                                        I'm going to meet my friend of mine at the departments stores as soon as possible.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div><!-- .card-body -->
                                </a>
                                <!-- Card -->

                            </div>
                            <!-- Chats -->
                        </div>

                    </div>
                </div>
            </div>

            <!-- Notifications - Notices -->
            <div class="tab-pane fade h-100" id="tab-content-notifications" role="tabpanel">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar">
                        <div class="container py-8">

                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">알림</h2>
                            </div>


                            <!-- card-list -->
                            <div class="card-list" th:each="notification, index : ${notification}">

                                <!-- Card -->
                                <div class="card border-0 mb-5">
                                    <div class="card-body">

                                        <div class="row gx-5">
                                            <div class="col-auto">
                                                <!-- Avatar -->
                                                <a href="#" class="avatar">
                                                    <img th:if="${notification.requestProfileIdx} != 0" class="avatar-img" th:src="@{/api/img/print/} + ${notification.requestProfileIdx}" src="/images/1.jpg" alt="">
                                                    <img th:if="${notification.requestProfileIdx} == 0" class="avatar-img" src="/images/1.jpg" alt="">

                                                    <div class="badge badge-circle bg-primary border-outline position-absolute bottom-0 end-0">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                                    </div>
                                                </a>
                                            </div>

                                            <div class="col">
                                                <div class="d-flex align-items-center mb-2">
                                                    <h5 class="me-auto mb-0">
                                                        <a href="#" th:text="${notification.requestUserName}"></a>
                                                    </h5>
                                                    <span th:text="${#temporals.format(notification.regDate, 'yyyy-MM-dd HH:mm')}" class="extra-small text-muted ms-2">08:45 PM</span>
                                                </div>

                                                <div class="d-flex">
                                                    <div class="me-auto" th:text="${notification.message}">Send you a friend request.</div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="card-footer">
                                        <div class="row gx-4">
                                            <div class="col">
                                                <a th:attr="friendsIdx=${notification.friendsIdx}" href="#" class="btn btn-sm btn-soft-primary w-100 hideClick">Hide</a>
                                            </div>
                                            <div class="col">
                                                <a th:attr="friendsIdx=${notification.friendsIdx}, requestUserId=${notification.requestUserId}, responseUserId=${notification.responseUserId}"  href="#" class="btn btn-sm btn-primary w-100 confirmClick">Confirm</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--card list -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Support -->
            <div class="tab-pane fade h-100" id="tab-content-support" role="tabpanel">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar">
                        <div class="container py-8">

                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">Support</h2>
                            </div>

                            <!-- Search -->
                            <div class="mb-6">
                                <form action="#">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <div class="icon icon-lg">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                            </div>
                                        </div>

                                        <input type="text" class="form-control form-control-lg ps-0" placeholder="Search messages or users" aria-label="Search for messages or users...">
                                    </div>
                                </form>
                            </div>

                            <!-- Docs -->
                            <div class="card border-0">
                                <div class="card-body">

                                    <div class="row align-items-center gx-5">
                                        <div class="col-auto text-primary">
                                            <svg version="1.1" width="46px" height="46px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 46 46" enable-background="new 0 0 46 46" xml:space="preserve">
                                                        <polygon opacity="0.7" points="45,11 36,11 35.5,1 "/>
                                                <polygon points="35.5,1 25.4,14.1 39,21 "/>
                                                <polygon opacity="0.4" points="17,9.8 39,21 17,26 "/>
                                                <polygon opacity="0.7" points="2,12 17,26 17,9.8 "/>
                                                <polygon opacity="0.7" points="17,26 39,21 28,36 "/>
                                                <polygon points="28,36 4.5,44 17,26 "/>
                                                <polygon points="17,26 1,26 10.8,20.1 "/>
                                                    </svg>

                                        </div>

                                        <div class="col">
                                            <h4 class="mb-1">Documentation</h4>
                                            <p>Setup and build tools</p>
                                        </div>

                                        <div class="col-auto">
                                            <a href="docs/index.html" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                            </a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- Docs -->

                            <!-- Demos -->
                            <div class="card-list mt-8">
                                <div class="d-flex align-items-center mb-4 px-6">
                                    <small class="text-muted me-auto">Demos</small>
                                </div>

                                <div class="card border-0">
                                    <img src="/images/light.jpg" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Light</h4>
                                                <p>Classic light theme</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="./light/" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <img src="/images/dark.jpg" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Dark</h4>
                                                <p>Classic dark theme</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="./dark/" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Demos -->

                            <!-- Account Pages -->
                            <div class="card-list mt-8">
                                <div class="d-flex align-items-center mb-4 px-6">
                                    <small class="text-muted me-auto">Pages</small>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Sign In</h4>
                                                <p>Sign in Page</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="signin.html" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Sign Up</h4>
                                                <p>Sign Up Page</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="signup.html" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Password Reset</h4>
                                                <p>Password Reset Page</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="password-reset.html" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body">
                                        <div class="row align-items-center gx-0">
                                            <div class="col">
                                                <h4 class="mb-1">Lock screen</h4>
                                                <p>Lock screen Page</p>
                                            </div>
                                            <div class="col-auto">
                                                <a href="lockscreen.html" class="btn btn-sm btn-icon btn-primary rounded-circle">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Account Pages -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings -->
            <div class="tab-pane fade h-100" id="tab-content-settings" role="tabpanel">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar">
                        <div class="container py-8">

                            <!-- Title -->
                            <div class="mb-8">
                                <h2 class="fw-bold m-0">Settings</h2>
                            </div>

                            <!-- Search -->
                            <div class="mb-6">
                                <form action="#">
                                    <div class="input-group">
                                        <div class="input-group-text">
                                            <div class="icon icon-lg">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                            </div>
                                        </div>

                                        <input type="text" class="form-control form-control-lg ps-0" placeholder="Search messages or users" aria-label="Search for messages or users...">
                                    </div>
                                </form>
                            </div>

                            <!-- Profile -->
                            <div class="card border-0">
                                <div class="card-body">
                                    <div class="row align-items-center gx-5">
                                        <div class="col-auto">
                                            <div class="avatar">
                                                <img src="/images/1.jpg" alt="#" class="avatar-img">

                                                <div class="badge badge-circle bg-secondary border-outline position-absolute bottom-0 end-0">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                                                </div>
                                                <input id="upload-profile-photo" class="d-none" type="file">
                                                <label class="stretched-label mb-0" for="upload-profile-photo"></label>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <h5>William Pearson</h5>
                                            <p>wright@studio.com</p>
                                        </div>
                                        <div class="col-auto">
                                            <a href="#" class="text-muted">
                                                <div class="icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Profile -->

                            <!-- Account -->
                            <div class="mt-8">
                                <div class="d-flex align-items-center mb-4 px-6">
                                    <small class="text-muted me-auto">Account</small>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body py-2">
                                        <!-- Accordion -->
                                        <div class="accordion accordion-flush" id="accordion-profile">
                                            <div class="accordion-item">
                                                <div class="accordion-header" id="accordion-profile-1">
                                                    <a href="#" class="accordion-button text-reset collapsed" data-bs-toggle="collapse" data-bs-target="#accordion-profile-body-1" aria-expanded="false" aria-controls="accordion-profile-body-1">
                                                        <div>
                                                            <h5>Profile settings</h5>
                                                            <p>Change your profile settings</p>
                                                        </div>
                                                    </a>
                                                </div>

                                                <div id="accordion-profile-body-1" class="accordion-collapse collapse" aria-labelledby="accordion-profile-1" data-parent="#accordion-profile">
                                                    <div class="accordion-body">
                                                        <div class="form-floating mb-6">
                                                            <input type="text" class="form-control" id="profile-name" placeholder="Name">
                                                            <label for="profile-name">Name</label>
                                                        </div>

                                                        <div class="form-floating mb-6">
                                                            <input type="email" class="form-control" id="profile-email" placeholder="Email address">
                                                            <label for="profile-email">Email</label>
                                                        </div>

                                                        <div class="form-floating mb-6">
                                                            <input type="text" class="form-control" id="profile-phone" placeholder="Phone">
                                                            <label for="profile-phone">Phone</label>
                                                        </div>

                                                        <div class="form-floating mb-6">
                                                            <textarea class="form-control" placeholder="Bio" id="profile-bio" data-autosize="true" style="min-height: 120px;"></textarea>
                                                            <label for="profile-bio">Bio</label>
                                                        </div>

                                                        <button type="button" class="btn btn-block btn-lg btn-primary w-100">Save</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="accordion-item">
                                                <div class="accordion-header" id="accordion-profile-2">
                                                    <a href="#" class="accordion-button text-reset collapsed" data-bs-toggle="collapse" data-bs-target="#accordion-profile-body-2" aria-expanded="false" aria-controls="accordion-profile-body-2">
                                                        <div>
                                                            <h5>Connected accounts</h5>
                                                            <p>Connect with your accounts</p>
                                                        </div>
                                                    </a>
                                                </div>

                                                <div id="accordion-profile-body-2" class="accordion-collapse collapse" aria-labelledby="accordion-profile-2" data-parent="#accordion-profile">
                                                    <div class="accordion-body">
                                                        <div class="form-floating mb-6">
                                                            <input type="text" class="form-control" id="profile-twitter" placeholder="Twitter">
                                                            <label for="profile-twitter">Twitter</label>
                                                        </div>

                                                        <div class="form-floating mb-6">
                                                            <input type="text" class="form-control" id="profile-facebook" placeholder="Facebook">
                                                            <label for="profile-facebook">Facebook</label>
                                                        </div>

                                                        <div class="form-floating mb-6">
                                                            <input type="text" class="form-control" id="profile-instagram" placeholder="Instagram">
                                                            <label for="profile-instagram">Instagram</label>
                                                        </div>

                                                        <button type="button" class="btn btn-block btn-lg btn-primary w-100">Save</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Account -->

                            <!-- Security -->
                            <div class="mt-8">
                                <div class="d-flex align-items-center my-4 px-6">
                                    <small class="text-muted me-auto">Security</small>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body py-2">
                                        <!-- Accordion -->
                                        <div class="accordion accordion-flush" id="accordion-security">
                                            <div class="accordion-item">
                                                <div class="accordion-header" id="accordion-security-1">
                                                    <a href="#" class="accordion-button text-reset collapsed" data-bs-toggle="collapse" data-bs-target="#accordion-security-body-1" aria-expanded="false" aria-controls="accordion-security-body-1">
                                                        <div>
                                                            <h5>Password</h5>
                                                            <p>Change your password</p>
                                                        </div>
                                                    </a>
                                                </div>

                                                <div id="accordion-security-body-1" class="accordion-collapse collapse" aria-labelledby="accordion-security-1" data-parent="#accordion-security">
                                                    <div class="accordion-body">
                                                        <form action="#" autocomplete="on">
                                                            <div class="form-floating mb-6">
                                                                <input type="password" class="form-control" id="profile-current-password" placeholder="Current Password" autocomplete="">
                                                                <label for="profile-current-password">Current Password</label>
                                                            </div>

                                                            <div class="form-floating mb-6">
                                                                <input type="password" class="form-control" id="profile-new-password" placeholder="New password" autocomplete="">
                                                                <label for="profile-new-password">New password</label>
                                                            </div>

                                                            <div class="form-floating mb-6">
                                                                <input type="password" class="form-control" id="profile-verify-password" placeholder="Verify Password" autocomplete="">
                                                                <label for="profile-verify-password">Verify Password</label>
                                                            </div>
                                                        </form>
                                                        <button type="button" class="btn btn-block btn-lg btn-primary w-100">Save</button>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Switch -->
                                            <div class="accordion-item">
                                                <div class="accordion-header">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <h5>Two-step verifications</h5>
                                                            <p>Enable two-step verifications</p>
                                                        </div>
                                                        <div class="col-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="accordion-security-check-1">
                                                                <label class="form-check-label" for="accordion-security-check-1"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Security -->

                            <!-- Storage -->
                            <div class="mt-8">
                                <div class="d-flex align-items-center my-4 px-6">
                                    <small class="text-muted me-auto">Storage</small>

                                    <div class="flex align-items-center text-muted">
                                        <a href="#" class="text-muted small">Clear storage</a>

                                        <div class="icon icon-xs">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body py-2">
                                        <!-- Accordion -->
                                        <div class="accordion accordion-flush" id="accordion-storage">
                                            <div class="accordion-item">
                                                <div class="accordion-header" id="accordion-storage-1">
                                                    <a href="#" class="accordion-button text-reset collapsed" data-bs-toggle="collapse" data-bs-target="#accordion-storage-body-1" aria-expanded="false" aria-controls="accordion-storage-body-1">
                                                        <div>
                                                            <h5>Cache</h5>
                                                            <p>Maximum cache size</p>
                                                        </div>
                                                    </a>
                                                </div>

                                                <div id="accordion-storage-body-1" class="accordion-collapse collapse" aria-labelledby="accordion-storage-1" data-parent="#accordion-storage">
                                                    <div class="accordion-body">
                                                        <div class="row justify-content-between mb-4">
                                                            <div class="col-auto">
                                                                <small>2 GB</small>
                                                            </div>
                                                            <div class="col-auto">
                                                                <small>4 GB</small>
                                                            </div>
                                                            <div class="col-auto">
                                                                <small>6 GB</small>
                                                            </div>
                                                            <div class="col-auto">
                                                                <small>8 GB</small>
                                                            </div>
                                                        </div>
                                                        <input type="range" class="form-range" min="1" max="4" step="1" id="custom-range-1">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="accordion-item">
                                                <div class="accordion-header">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <h5>Keep media</h5>
                                                            <p>Photos, videos and other files</p>
                                                        </div>
                                                        <div class="col-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="accordion-storage-check-1">
                                                                <label class="form-check-label" for="accordion-storage-check-1"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Storage -->

                            <!-- Notifications -->
                            <div class="mt-8">
                                <div class="d-flex align-items-center my-4 px-6">
                                    <small class="text-muted me-auto">Notifications</small>
                                </div>

                                <!-- Accordion -->
                                <div class="card border-0">
                                    <div class="card-body py-2">
                                        <div class="accordion accordion-flush" id="accordion-notifications">
                                            <div class="accordion-item">
                                                <div class="accordion-header" id="accordion-notifications-1">
                                                    <a href="#" class="accordion-button text-reset collapsed" data-bs-toggle="collapse" data-bs-target="#accordion-notifications-body-1" aria-expanded="false" aria-controls="accordion-notifications-body-1">
                                                        <div>
                                                            <h5>Message</h5>
                                                            <p>Set custom notifications for users</p>
                                                        </div>
                                                    </a>
                                                </div>

                                                <div id="accordion-notifications-body-1" class="accordion-collapse collapse" aria-labelledby="accordion-notifications-1" data-parent="#accordion-notifications">
                                                    <div class="accordion-body">
                                                        <div class="row align-items-center">
                                                            <div class="col">
                                                                <h5>Text</h5>
                                                                <p>Show text in notifications</p>
                                                            </div>

                                                            <div class="col-auto">
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" id="accordion-notifications-check-1">
                                                                    <label class="form-check-label" for="accordion-notifications-check-1"></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="accordion-item">
                                                <div class="accordion-header">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <h5>Sound</h5>
                                                            <p>Enable sound notifications</p>
                                                        </div>
                                                        <div class="col-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="accordion-notifications-check-3">
                                                                <label class="form-check-label" for="accordion-notifications-check-3"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="accordion-item">
                                                <div class="accordion-header">
                                                    <div class="row align-items-center">
                                                        <div class="col">
                                                            <h5>Browser notifications</h5>
                                                            <p>Enable browser notifications</p>
                                                        </div>
                                                        <div class="col-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="accordion-notifications-check-2" checked>
                                                                <label class="form-check-label" for="accordion-notifications-check-2"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Notifications -->

                            <!-- Devices -->
                            <div class="mt-8">
                                <div class="d-flex align-items-center my-4 px-6">
                                    <small class="text-muted me-auto">Devices</small>

                                    <div class="flex align-items-center text-muted">
                                        <a href="#" class="text-muted small">End all sessions</a>

                                        <div class="icon icon-xs">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                        </div>
                                    </div>
                                </div>

                                <div class="card border-0">
                                    <div class="card-body py-3">

                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <div class="row align-items-center">
                                                    <div class="col">
                                                        <h5>Windows ⋅ USA, Houston</h5>
                                                        <p>Today at 2:48 pm ⋅ Browser: Chrome</p>
                                                    </div>
                                                    <div class="col-auto">
                                                        <span class="text-primary extra-small">active</span>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="list-group-item">
                                                <div class="row align-items-center">
                                                    <div class="col">
                                                        <h5>iPhone ⋅ USA, Houston</h5>
                                                        <p>Yesterday at 2:48 pm ⋅ Browser: Chrome</p>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>

                                    </div>
                                </div>

                            </div>
                            <!-- Devices -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>
    <!-- Sidebar -->

    <!-- Chat -->
    <main class="main">
        <div class="container h-100">

            <div class="d-flex flex-column h-100 justify-content-center text-center">
                <div class="mb-6">
                            <span class="icon icon-xl text-muted">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                            </span>
                </div>

                <p class="text-muted">Pick a person from left menu, <br> and start your conversation.</p>
            </div>

        </div>
    </main>
    <!-- Chat -->

</div>
<!-- Layout -->

<!-- Modal: Invite -->
<div class="modal fade" id="modal-invite" tabindex="-1" aria-labelledby="modal-invite" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-fullscreen-xl-down">
        <div class="modal-content">

            <!-- Modal: Body -->
            <div class="modal-body py-0">
                <!-- Header -->
                <div class="profile modal-gx-n">
                    <div class="profile-img text-primary rounded-top-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 400 140.74"><defs><style>.cls-2{fill:#fff;opacity:0.1;}</style></defs><g><g><path d="M400,125A1278.49,1278.49,0,0,1,0,125V0H400Z"/><path class="cls-2" d="M361.13,128c.07.83.15,1.65.27,2.46h0Q380.73,128,400,125V87l-1,0a38,38,0,0,0-38,38c0,.86,0,1.71.09,2.55C361.11,127.72,361.12,127.88,361.13,128Z"/><path class="cls-2" d="M12.14,119.53c.07.79.15,1.57.26,2.34v0c.13.84.28,1.66.46,2.48l.07.3c.18.8.39,1.59.62,2.37h0q33.09,4.88,66.36,8,.58-1,1.09-2l.09-.18a36.35,36.35,0,0,0,1.81-4.24l.08-.24q.33-.94.6-1.9l.12-.41a36.26,36.26,0,0,0,.91-4.42c0-.19,0-.37.07-.56q.11-.86.18-1.73c0-.21,0-.42,0-.63,0-.75.08-1.51.08-2.28a36.5,36.5,0,0,0-73,0c0,.83,0,1.64.09,2.45C12.1,119.15,12.12,119.34,12.14,119.53Z"/><circle class="cls-2" cx="94.5" cy="57.5" r="22.5"/><path class="cls-2" d="M276,0a43,43,0,0,0,43,43A43,43,0,0,0,362,0Z"/></g></g></svg>

                        <div class="position-absolute top-0 start-0 p-5">
                            <button type="button" class="btn-close btn-close-white btn-close-arrow opacity-100" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>

                    <div class="profile-body">
                        <div class="avatar avatar-lg">
                                    <span class="avatar-text bg-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
                                    </span>
                        </div>

                        <h4 class="fw-bold mb-1">친구 추가</h4>
                        <p style="font-size: 16px;">친구에게 친구 추가 요청을 보냅니다.</p>
                    </div>
                </div>
                <!-- Header -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- Form -->
                <div class="modal-py">
                    <form class="row gy-6">
                        <div class="col-12">
                            <label for="invite-email" class="form-label text-muted">이메일</label>
                            <input type="email" class="form-control form-control-lg" id="invite-email" placeholder="name@example.com">
                        </div>

                        <div class="col-12">
                            <label for="invite-message" class="form-label text-muted">메시지</label>
                            <textarea class="form-control form-control-lg" id="invite-message" rows="3" placeholder="친구추가 요청을 보낼시 보여지는 메시지 영역 입니다."></textarea>
                        </div>
                    </form>
                </div>
                <!-- Form -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- Button -->
                <div class="modal-py">
                    <a onclick="friendsAdd()" class="btn btn-lg btn-primary w-100 d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#invite-modal">
                        친구 요청

                        <span class="icon ms-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                </span>
                    </a>
                </div>
                <!-- Button -->
            </div>
            <!-- Modal: Body -->

        </div>
    </div>
</div>

<!-- Modal: Profile -->
<div class="modal fade" id="modal-profile" tabindex="-1" aria-labelledby="modal-profile" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-fullscreen-xl-down">
        <div class="modal-content">

            <!-- Modal body -->
            <div class="modal-body py-0">
                <!-- Header -->
                <div class="profile modal-gx-n">
                    <div class="profile-img text-primary rounded-top-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 400 140.74"><defs><style>.cls-2{fill:#fff;opacity:0.1;}</style></defs><g><g><path d="M400,125A1278.49,1278.49,0,0,1,0,125V0H400Z"/><path class="cls-2" d="M361.13,128c.07.83.15,1.65.27,2.46h0Q380.73,128,400,125V87l-1,0a38,38,0,0,0-38,38c0,.86,0,1.71.09,2.55C361.11,127.72,361.12,127.88,361.13,128Z"/><path class="cls-2" d="M12.14,119.53c.07.79.15,1.57.26,2.34v0c.13.84.28,1.66.46,2.48l.07.3c.18.8.39,1.59.62,2.37h0q33.09,4.88,66.36,8,.58-1,1.09-2l.09-.18a36.35,36.35,0,0,0,1.81-4.24l.08-.24q.33-.94.6-1.9l.12-.41a36.26,36.26,0,0,0,.91-4.42c0-.19,0-.37.07-.56q.11-.86.18-1.73c0-.21,0-.42,0-.63,0-.75.08-1.51.08-2.28a36.5,36.5,0,0,0-73,0c0,.83,0,1.64.09,2.45C12.1,119.15,12.12,119.34,12.14,119.53Z"/><circle class="cls-2" cx="94.5" cy="57.5" r="22.5"/><path class="cls-2" d="M276,0a43,43,0,0,0,43,43A43,43,0,0,0,362,0Z"/></g></g></svg>

                        <div class="position-absolute top-0 start-0 py-6 px-5">
                            <button type="button" class="btn-close btn-close-white btn-close-arrow opacity-100" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>

                    <div class="profile-body">
                        <form name="fileForm" id="fileForm">
                            <div class="avatar avatar-xl">
                                <input id="input_file" onChange="fileChange(this)" type="file" accept="image/*" style="display:none;">
                                <img th:if="${userInfo.profileIdx} != 0" style="width:100%; height:100%;" onclick="fileClick()" class="avatar-img myProfileImg"  th:src="@{/api/img/print/} + ${userInfo.profileIdx}" alt="#">
                                <img th:if="${userInfo.profileIdx} == 0" style="width:100%; height:100%;" onclick="fileClick()" class="avatar-img myProfileImg"  src="/images/1.jpg" alt="#">
                            </div>
                        </form>
                        <h4 class="mb-1" th:text="${userInfo.nickName}">William Wright</h4>
                        <!--<p>last seen 5 minutes ago</p> -->
                    </div>
                </div>
                <!-- Header -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>위치</h5>
                                <p th:text="${address}">USA, Houston</p>
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>이메일</h5>
                                <p th:text="${userInfo.userId}">william@studio.com</p>
                                <input type="hidden" id="userId" th:value="${userInfo.userId}" />
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>핸드폰번호</h5>
                                <p th:text="${handPhoneNo}">1-800-275-2273</p>
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone-call"><path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li th:onclick="withdrawal()" class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>회원탈퇴</h5>
                            </div>
                        </div>
                    </li>

                </ul>
                <!-- List  -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
<!--                <ul class="list-group list-group-flush">-->
<!--                    <li class="list-group-item">-->
<!--                        <div class="row align-items-center gx-6">-->
<!--                            <div class="col">-->
<!--                                <h5>Active status</h5>-->
<!--                                <p>Show when you're active.</p>-->
<!--                            </div>-->

<!--                            <div class="col-auto">-->
<!--                                <div class="form-check form-switch">-->
<!--                                    <input class="form-check-input" type="checkbox" id="profile-status" checked>-->
<!--                                    <label class="form-check-label" for="profile-status"></label>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </li>-->
<!--                </ul>-->
                <!-- List -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
                <ul class="list-group list-group-flush">
                    <!-- <li class="list-group-item">
                        <a href="#tab-settings" class="text-reset" data-theme-toggle="tab" title="Settings" data-bs-dismiss="modal">Settings</a>
                    </li> -->

                    <li class="list-group-item">
                        <a href="/auth/logout-proc" class="text-danger">로그아웃</a>
                    </li>
                </ul>
                <!-- List -->
            </div>
            <!-- Modal body -->

        </div>
    </div>
</div>

<!-- Modal: User profile -->
<div class="modal fade" id="modal-user-profile" tabindex="-1" aria-labelledby="modal-user-profile" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-fullscreen-xl-down">
        <div class="modal-content">

            <!-- Modal body -->
            <div class="modal-body py-0">
                <!-- Header -->
                <div class="profile modal-gx-n">
                    <div class="profile-img text-primary rounded-top-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 400 140.74"><defs><style>.cls-2{fill:#fff;opacity:0.1;}</style></defs><g><g><path d="M400,125A1278.49,1278.49,0,0,1,0,125V0H400Z"/><path class="cls-2" d="M361.13,128c.07.83.15,1.65.27,2.46h0Q380.73,128,400,125V87l-1,0a38,38,0,0,0-38,38c0,.86,0,1.71.09,2.55C361.11,127.72,361.12,127.88,361.13,128Z"/><path class="cls-2" d="M12.14,119.53c.07.79.15,1.57.26,2.34v0c.13.84.28,1.66.46,2.48l.07.3c.18.8.39,1.59.62,2.37h0q33.09,4.88,66.36,8,.58-1,1.09-2l.09-.18a36.35,36.35,0,0,0,1.81-4.24l.08-.24q.33-.94.6-1.9l.12-.41a36.26,36.26,0,0,0,.91-4.42c0-.19,0-.37.07-.56q.11-.86.18-1.73c0-.21,0-.42,0-.63,0-.75.08-1.51.08-2.28a36.5,36.5,0,0,0-73,0c0,.83,0,1.64.09,2.45C12.1,119.15,12.12,119.34,12.14,119.53Z"/><circle class="cls-2" cx="94.5" cy="57.5" r="22.5"/><path class="cls-2" d="M276,0a43,43,0,0,0,43,43A43,43,0,0,0,362,0Z"/></g></g></svg>

                        <div class="position-absolute top-0 start-0 p-5">
                            <button type="button" class="btn-close btn-close-white btn-close-arrow opacity-100" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>

                    <div class="profile-body">
                        <div class="avatar avatar-xl">
                            <img class="avatar-img" src="/images/9.jpg" alt="#">

                            <a href="#" class="badge badge-lg badge-circle bg-primary text-white border-outline position-absolute bottom-0 end-0">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                            </a>
                        </div>

                        <h4 class="mb-1">William Wright</h4>
                    </div>
                </div>
                <!-- Header -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>Location</h5>
                                <p>USA, Houston</p>
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>E-mail</h5>
                                <p>william@studio.com</p>
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>Phone</h5>
                                <p>1-800-275-2273</p>
                            </div>

                            <div class="col-auto">
                                <div class="btn btn-sm btn-icon btn-dark">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone-call"><path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                <!-- List -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row align-items-center gx-6">
                            <div class="col">
                                <h5>Notifications</h5>
                                <p>Enable sound notifications</p>
                            </div>

                            <div class="col-auto">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="user-notification-check">
                                    <label class="form-check-label" for="user-notification-check"></label>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                <!-- List -->

                <hr class="hr-bold modal-gx-n my-0">

                <!-- List -->
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <a href="#" class="text-reset">Send Message</a>
                    </li>

                    <li class="list-group-item">
                        <a href="#" class="text-danger blockUser">친구 차단</a>
                    </li>
                </ul>
                <!-- List -->
            </div>
            <!-- Modal body -->

        </div>
    </div>
</div>

<!-- Modal: Media Preview -->
<div class="modal fade" id="modal-media-preview" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-fullscreen-xl-down">
        <div class="modal-content">

            <!-- Modal: Header -->
            <div class="modal-header">
                <button type="button" class="btn-close btn-close-arrow" data-bs-dismiss="modal" aria-label="Close"></button>

                <div>
                    <!-- Dropdown -->
                    <div class="dropdown">
                        <a class="icon text-muted" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
                        </a>

                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    Download
                                    <div class="icon ms-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download-cloud"><polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path></svg>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    Share
                                    <div class="icon ms-auto">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                                    </div>
                                </a>
                            </li>
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <a class="dropdown-item d-flex align-items-center text-danger" href="#">
                                    <span class="me-auto">Delete</span>
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!-- Dropdown -->
                </div>
            </div>
            <!-- Modal: Header -->

            <!-- Modal: Body -->
            <div  class="modal-body p-0">
                <div class="d-flex align-items-center justify-content-center h-100">
                    <img class="img-fluid modal-preview-url" src="#" alt="#">
                </div>
            </div>
            <!-- Modal: Body -->

            <!-- Modal: Footer -->
            <div class="modal-footer">
                <div class="w-100 text-center">
                    <h6><a href="#">Marshall Wallaker</a></h6>
                    <p class="small">Today at 14:43</p>
                </div>
            </div>
            <!-- Modal: Footer -->
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="/js/vendor.js"></script>
<script src="/js/template.js"></script>
</body>
</html>

<script th:inline="javascript">

     //친구추가 거절
    $(".hideClick").click(function(){

        var friendsIdx = $(this).attr("friendsIdx");

        var params = {
	         friendsIdx : friendsIdx
	         ,responseYn : 'N'
	    }

        responseYnUpdate(params)
        $(this).parents(".card-list").remove();
    });

    //친구추가 승낙
    $(".confirmClick").click(function(){

        var friendsIdx = $(this).attr("friendsIdx");
        var requestUserId = $(this).attr("requestUserId");
        var responseUserId = $(this).attr("responseUserId");

        var params = {
	         friendsIdx : friendsIdx
	         ,responseYn : 'Y'
	         ,requestUserId : requestUserId
	         ,responseUserId : responseUserId
	    }
        console.log(params);
	    responseYnUpdate(params);
	    $(this).parents(".card-list").remove();

    });


    //친구 검색 클릭
    $("#friendsSearch").click(function(){
        friendsPage()
    });

    //친구목록 클릭
    $("#tab-friends").click(function(){
         friendsPage()
    });

   //파일 현재 필드 갯수
	var fileCount = 0;

	//첨부파일 배열
	var content_files = new Array();

	//파일 시퀀스들
	var fileIdx = "";

    //파일 change 이벤트
	function fileChange(target){
        console.log(target.files);
		var files = target.files;

		//파일 배열 담기
		var filesArr = Array.prototype.slice.call(files);

		// 각각의 파일 배열담기 및 기타
		filesArr.forEach(function (f) {
		    content_files.push(f);
		    var imageUrl = URL.createObjectURL(f);
			var reader = new FileReader();
                reader.onload = function (e) {
                console.log(content_files)
                $(".myProfileImg").attr("src", imageUrl);

	        };
            reader.readAsDataURL(f);
	    });

        registerAction()

	    //초기화 한다.
	    $("#input_file").val("");

	}


    //파일 추가 클릭
	function fileClick(){
		$("#input_file").click();
	}

	//파일 저장
	function registerAction(){
		console.log(content_files);
		var form = $("#fileForm")[0];
	 	var formData = new FormData(form);
		for (var x = 0; x < content_files.length; x++) {
			// 삭제 안한것만 담아 준다.
			if(!content_files[x].is_delete){
				 formData.append("article_file", content_files[x]);
				 formData.append("filePath", "/main");
			}
		}

	   /*
	   * 파일업로드 multiple ajax처리
	   */
		$.ajax({
	   	      type: "POST",
	   	   	  enctype: "multipart/form-data",
	   	      url: "/file-upload",
	       	  data : formData,
	       	  processData: false,
	   	      contentType: false,
	   	      success: function (data) {

	   	    	console.log(data)
	   	    	//파일 시퀀스들
	   	    	fileIdx = data.fileIdx;
	   	    	if(data.result == "OK"){
	   	    		saveProfile();
				} else
					alert("서버내 오류로 처리가 지연되고있습니다. 잠시 후 다시 시도해주세요");
	   	      },
	   	      error: function (xhr, status, error) {

			}
		});
	}

	 //이미지 등록
	function saveProfile(){

		//step2. 게시판 등록
		var params = {
			  profileIdx : fileIdx
			 ,userId : $("#userId").val()
		}

	    console.log(params);

		$.ajax({
	         type : 'POST'
	        ,url : "/saveProfileImg"
	        ,dataType : 'json'
	        ,data : JSON.stringify(params)
	        ,contentType: 'application/json'
	        ,success : function(result) {

	        },
	        error: function(request, status, error) {

	        }
	    });
	}

    //친구추가
	function friendsAdd(){

	    //친구 요청 보내는 사람 id
	    var requestUserId = $("#userId").val();

	    //친구 요청 받는 사람 id
	    var responseUserId = $.trim($("#invite-email").val());

        //메시지
	    var message = $.trim($("#invite-message").val())

        //친구요청 보내는 사람과 받는 사람이 같으면 안됨
        if(requestUserId == responseUserId){
            alert("나 자신에게 친구요청을 보낼수 없습니다.");
            return false;
        }

        //요청 보내는 아이디가 존재하는지 체크
        var params = {
            responseUserId : responseUserId
        }

	     $.ajax({
            url: "/friendsExistCheck"
            ,type: "POST"
            ,accept: "application/json"
            ,contentType: "application/json; charset=utf-8"
            ,data: JSON.stringify(params)
            ,dataType: "json"
            ,success: function(result) {

                //요청 보내는 아이디가 존재하면
                if(result.resultCode == "success" ){
                    //친구 요청
                    friendsInvite(requestUserId, responseUserId, message);
                }

                //친구이면
                else if(result.resultCode == "friends" ){
                    alert("이미 해당 사용자는 친구에 등록되어있습니다.");
                }

                else{
                    alert("해당 아이디가 존재하지않습니다.");
                }

            },

            error: function(jqXHR,textStatus,errorThrown) {

            }
        });


	}


    //친구 초대
    function friendsInvite(requestUserId, responseUserId, message){

        var params = {
	         requestUserId : requestUserId
	        ,responseUserId : responseUserId
	        ,message : message
	    }

        $.ajax({
            url: "/friendsInvite"
            ,type: "POST"
            ,accept: "application/json"
            ,contentType: "application/json; charset=utf-8"
            ,data: JSON.stringify(params)
            ,dataType: "json"
            ,success: function(result) {
                alert("친구 추가 요청이 되었습니다.");
            },

            error: function(jqXHR,textStatus,errorThrown) {
                alert("친구 추가 요청이 실패하였습니다.");
            }
        });
    }

    //responseYn 업데이트
    function responseYnUpdate(params){

        $.ajax({
            url: "/responseYnUpdate"
            ,type: "POST"
            ,accept: "application/json"
            ,contentType: "application/json; charset=utf-8"
            ,data: JSON.stringify(params)
            ,dataType: "json"
            ,success: function(result) {

            },

            error: function(jqXHR,textStatus,errorThrown) {

            }
        });

    }

    //블락유저
    function blockUserClick(friendsIdx){

       var params = {
            friendsIdx : friendsIdx
       }

        $.ajax({
            url: "/blockFriendsDelete"
            ,type: "POST"
            ,accept: "application/json"
            ,contentType: "application/json; charset=utf-8"
            ,data: JSON.stringify(params)
            ,dataType: "json"
            ,success: function(result) {

            },

            error: function(jqXHR,textStatus,errorThrown) {

            }
        });

    }

    //친구페이지 가져오기
    function friendsPage(){
        var friendsName = $.trim($("#friendsSearchVal").val());

        var params = {
			  friendsName : friendsName
		}

	    console.log(params);

		$.ajax({
	         type : 'POST'
	        ,url : "/searchFriends"
	        ,dataType : 'json'
	        ,data : JSON.stringify(params)
	        ,contentType: 'application/json'
	        ,success : function(result) {
                console.log(result);

                var appendHtml = "";

                for(var i=0; i<result.length; i++){

                    var friendsName = result[i].friendsName;
                    var friendsProfileIdx = result[i].friendsProfileIdx;
                    var friendsIdx = result[i].friendsIdx;
                    var imgDiv = "";

                    if(friendsProfileIdx == 0){
                        imgDiv = "<img class='avatar-img' src='/images/1.jpg' alt=''>";
                    }

                    else{
                        imgDiv = "<img class='avatar-img' src='/api/img/print/"+friendsProfileIdx+"' alt=''>";
                    }

                    appendHtml+= "<div class='card border-0'><div class='card-body'><div class='row align-items-center gx-5'><div class='col-auto'><a href='#' class='avatar '>"
                    +imgDiv
                    +"</a></div><div class='col'><h5>"+friendsName+"</h5></div><div class='col-auto'><div class='dropdown'><a class='icon text-muted' href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false'><svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-more-vertical'><circle cx='12' cy='12' r='1'></circle><circle cx='12' cy='5' r='1'></circle><circle cx='12' cy='19' r='1'></circle></svg></a><ul class='dropdown-menu'><li><a class='dropdown-item' href='#'>메시지 보내기</a></li><li><hr class='dropdown-divider'></li><li><a class='dropdown-item text-danger blockUser' onclick='blockUserClick("+friendsIdx+")' href='#'>친구 차단</a></li></ul></div></div></div></div></div>";
                }

                 $("#friendsDiv").html(appendHtml);

	        },
	        error: function(request, status, error) {

	        }
	    });
    }

    //회원 탈퇴
    function withdrawal(){
        var userId = $("#userId").val();

        var params = {
            userId : userId
        }

        $.ajax({
	         type : 'POST'
	        ,url : "/withdrawal"
	        ,dataType : 'json'
	        ,data : JSON.stringify(params)
	        ,contentType: 'application/json'
	        ,success : function(result) {
                alert("회원이 탈퇴되었습니다.");
                location.href = "/auth/logout-proc";
	        },
	        error: function(request, status, error) {

	        }
	    });

    }

</script>